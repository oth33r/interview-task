import{a as I,j as s,B as p,z as c,u as P,k as T,l as N,r as v,m as u,n as $,C as A,c as M,d as k,X as S,f as E,L as i,I as h,E as m,g as F,A as L,o as R,p as y,M as C,q as D,S as q}from"./index-CYBKuqke.js";const z=({image:e,title:t,slug:d,id:a})=>{const n=I();return s.jsxs("div",{className:"max-w-[500px] h-[475px] bg-primary px-4 py-4 rounded-xl text-white flex flex-col gap-4 justify-between",children:[s.jsx("img",{src:e??"",alt:"Article image",className:"w-full rounded-lg h-3/4 aspect-square object-cover pointer-events-none select-none"}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("h2",{className:"font-semibold text-3xl truncate",children:t}),s.jsx(p,{variant:"secondary",className:"w-[150px] text-sm",onClick:()=>n(`/${d}?id=${a}`),children:"Continue reading"})]})]})},B=({children:e})=>s.jsx("ul",{className:"flex flex-col gap-4",children:e}),Z=c.object({oldPassword:c.string().min(3,"Password must be at least 3 characters.").max(20,"Password must be less than 20 characters."),password:c.string().min(3,"Password must be at least 3 characters.").max(20,"Password must be less than 20 characters."),confirmedPassword:c.string().min(3,"Password must be at least 3 characters.").max(20,"Password must be less than 20 characters.")}).superRefine((e,t)=>{e.password!==e.confirmedPassword&&(t.addIssue({code:c.ZodIssueCode.custom,message:"Password and confirmed password differ",path:["confirmedPassword"]}),t.addIssue({code:c.ZodIssueCode.custom,message:"",path:["password"]}))}),G=({modalName:e})=>{const{handleClick:t,handleSubmit:d,register:a,buttonRef:n,errors:r,reset:l}=P({schema:Z}),[w,{isLoading:j,isSuccess:x}]=T(),o=N();v.useEffect(()=>{x&&(l(),o(u(e))),o($(e))},[o,x,l,e]);const f=g=>{w(g)},b=()=>{l(),o(u(e))};return s.jsxs(A,{className:"w-[600px] bg-primary px-[50px] drop-shadow-xl border-none relative",children:[s.jsxs(M,{className:"items-center",children:[s.jsx(k,{className:"text-white text-5xl font-semibold",children:"Change password"}),s.jsx("button",{className:"absolute text-white top-2 right-4",onClick:b,children:s.jsx(S,{})})]}),s.jsx(E,{children:s.jsxs("form",{onSubmit:d(f),className:"space-y-2",children:[s.jsxs("div",{className:"flex flex-col space-y-1.5",children:[s.jsx(i,{htmlFor:"oldPassword",className:"font-semibold text-white uppercase",children:"Old password"}),s.jsx(h,{id:"oldPassword",placeholder:"Type your old password",className:`${r.oldPassword?"border-rose-500":"border-white"}`,...a("oldPassword")}),s.jsx(m,{error:r.oldPassword})]}),s.jsxs("div",{className:"flex flex-col space-y-1.5",children:[s.jsx(i,{htmlFor:"password",className:"font-semibold text-white uppercase",children:"Password"}),s.jsx(h,{id:"password",placeholder:"Type your password",className:`${r.password?"border-rose-500":"border-white"}`,...a("password")}),s.jsx(m,{error:r.password})]}),s.jsxs("div",{className:"flex flex-col space-y-1.5",children:[s.jsx(i,{htmlFor:"confirmedPassword",className:"font-semibold text-white uppercase",children:"Confirm password"}),s.jsx(h,{id:"confirmedPassword",placeholder:"Type your password",className:`${r.confirmedPassword?"border-rose-500":"border-white"}`,...a("confirmedPassword")}),s.jsx(m,{error:r.confirmedPassword})]}),s.jsx("button",{hidden:!0,ref:n})]})}),s.jsx(F,{className:"flex gap-2 flex-col items-start",children:s.jsx(p,{variant:"secondary",type:"submit",onClick:t,disabled:j,children:"Change password"})})]})},H=({modalName:e})=>{const{handleClick:t,handleSubmit:d,register:a,buttonRef:n,errors:r,reset:l}=P({schema:L}),[w,{isLoading:j,isSuccess:x}]=R(),o=N();v.useEffect(()=>{x&&(l(),o(u(e)))},[o,x,l,e]);const f=g=>{w(g)},b=()=>{l(),o(u(e))};return s.jsxs(A,{className:"w-[600px] bg-primary px-[50px] drop-shadow-xl border-none relative",children:[s.jsxs(M,{className:"items-center",children:[s.jsx(k,{className:"text-white text-5xl font-semibold",children:"Add new article"}),s.jsx("button",{className:"absolute text-white top-2 right-4",onClick:b,children:s.jsx(S,{})})]}),s.jsx(E,{children:s.jsxs("form",{onSubmit:d(f),className:"space-y-2",children:[s.jsxs("div",{className:"flex flex-col space-y-1.5",children:[s.jsx(i,{htmlFor:"title",className:"font-semibold text-white uppercase",children:"Title"}),s.jsx(h,{id:"title",placeholder:"Type title",className:`${r.title?"border-rose-500":"border-white"}`,...a("title")}),s.jsx(m,{error:r.title})]}),s.jsxs("div",{className:"flex flex-col space-y-1.5",children:[s.jsx(i,{htmlFor:"content",className:"font-semibold text-white uppercase",children:"Content"}),s.jsx("textarea",{rows:4,id:"content",placeholder:"Type content",className:`${r.content&&"border-rose-500"} rounded-lg bg-primary border border-white resize-none text-white py-1.5 px-2 text-sm placeholder:text-neutral-500`,...a("content")}),s.jsx(m,{error:r.content})]}),s.jsxs("div",{children:[s.jsx(i,{htmlFor:"image",className:"font-semibold text-white uppercase",children:"Image"}),s.jsx(h,{type:"file",id:"image",...a("image")})]}),s.jsx("button",{hidden:!0,ref:n})]})}),s.jsx(F,{className:"flex gap-2 flex-col items-start",children:s.jsx(p,{variant:"secondary",type:"submit",onClick:t,disabled:j,children:"Add new article"})})]})},O=()=>{const e=N();return s.jsxs("div",{className:"bg-primary rounded-xl h-fit px-2 py-4 space-y-2",children:[s.jsx(p,{variant:"secondary",onClick:()=>e(y("changePassword")),children:"Change password"}),s.jsx(p,{variant:"secondary",onClick:()=>e(y("addNewModal")),children:"Add new article"}),s.jsx(C,{modalName:"changePassword",children:s.jsx(G,{modalName:"changePassword"})}),s.jsx(C,{modalName:"addNewModal",children:s.jsx(H,{modalName:"addNewModal"})})]})},X=()=>{const{isLoading:e,isError:t,data:d=[]}=D();return t?s.jsx("div",{children:"Error!"}):e?s.jsx(q,{}):s.jsxs("div",{className:"flex gap-4 mt-5",children:[s.jsx(B,{children:d.map(a=>s.jsx(z,{id:a.id,slug:a.slug,image:a.image,title:a.title},a.id))}),s.jsx(O,{})]})};export{X as default};
